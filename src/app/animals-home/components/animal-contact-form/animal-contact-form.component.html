<form
  [formGroup]="contactForm"
  (ngSubmit)="submitContactForm(animal)"
  class="grid grid-cols-1 md:grid-cols-2 gap-6"
>
  <!-- NAME -->
  <div class="flex flex-col gap-2">
    <label for="name">Tu nombre *</label>
    <input
      id="name"
      pInputText
      formControlName="name"
      placeholder="Escribe tu nombre"
    />
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('name')?.invalid && contactForm.get('name')?.touched
      "
    >
      El nombre es obligatorio.
    </small>
  </div>

  <!-- EMAIL -->
  <div class="flex flex-col gap-2">
    <label for="email">Correo electrónico</label>
    <input
      id="email"
      pInputText
      type="email"
      formControlName="email"
      placeholder="tucorreo@example.com"
    />
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('email')?.invalid && contactForm.get('email')?.touched
      "
    >
      Introduce un correo válido.
    </small>
  </div>

  <!-- PHONE -->
  <div class="flex flex-col gap-2">
    <label for="phone">Teléfono</label>
    <input id="phone" pInputText formControlName="phone" />
  </div>

  <!-- LOCATION -->
  <div class="flex flex-col gap-2">
    <label for="location">Localidad</label>
    <input
      id="location"
      pInputText
      formControlName="location"
      placeholder="Ciudad o provincia"
    />
  </div>

  <!-- HOME SIZE -->
  <div class="flex flex-col gap-2">
    <label for="homeSize">Tamaño del alojamiento *</label>
    <p-dropdown
      id="homeSize"
      [options]="homeSizeOptions"
      formControlName="homeSize"
      placeholder="Selecciona tamaño"
    ></p-dropdown>
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('homeSize')?.invalid &&
        contactForm.get('homeSize')?.touched
      "
    >
      Obligatorio.
    </small>
  </div>

  <!-- HAD PETS BEFORE -->
  <div class="flex flex-col gap-2">
    <label for="hadPets">¿Has tenido mascotas antes? *</label>
    <p-dropdown
      id="hadPets"
      [options]="yesNoOptions"
      formControlName="hadPets"
      placeholder="Selecciona"
    ></p-dropdown>
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('hadPets')?.invalid &&
        contactForm.get('hadPets')?.touched
      "
    >
      Obligatorio.
    </small>
  </div>

  <!-- FAMILIARITY WITH BREED -->
  <div class="flex flex-col gap-2">
    <label for="familiarWithBreed">¿Estás familiarizado con la raza? *</label>
    <p-dropdown
      id="familiarWithBreed"
      [options]="yesNoOptions"
      formControlName="familiarWithBreed"
      placeholder="Selecciona"
    ></p-dropdown>
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('familiarWithBreed')?.invalid &&
        contactForm.get('familiarWithBreed')?.touched
      "
    >
      Obligatorio.
    </small>
  </div>

  <!-- SUBJECT -->
  <div class="flex flex-col gap-2 md:col-span-2">
    <label for="subject">Motivo del contacto *</label>
    <p-dropdown
      id="subject"
      [options]="subjectOptions"
      formControlName="subject"
    ></p-dropdown>
  </div>

  <!-- MESSAGE -->
  <div class="flex flex-col gap-2">
    <label for="message">Mensaje *</label>
    <textarea
      id="message"
      pTextarea
      rows="4"
      formControlName="message"
      placeholder="Cuéntanos un poco sobre ti..."
    ></textarea>
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('message')?.hasError('required') &&
        contactForm.get('message')?.touched
      "
    >
      El mensaje es obligatorio.
    </small>
    <small
      class="text-red-500 text-xs"
      *ngIf="
        contactForm.get('message')?.hasError('minlength') &&
        contactForm.get('message')?.touched
      "
    >
      El mensaje debe tener al menos 10 caracteres.
    </small>
  </div>

  <!-- PRIVACY -->
  <div class="field md:col-span-2 flex items-center gap-3">
    <p-checkbox
      formControlName="privacy"
      binary="true"
      inputId="privacy"
    ></p-checkbox>
    <label for="privacy" class="m-0">Acepto la política de privacidad</label>
  </div>

  <div class="md:col-span-2">
    <button
      pButton
      type="submit"
      label="Enviar mensaje"
      [loading]="isLoading"
      [disabled]="contactForm.invalid"
    ></button>
  </div>
  <div class="md:col-span-2">
    <div>
      <ngx-recaptcha2
        [siteKey]="recaptchaSiteKey"
        formControlName="recaptchaToken"
        [size]="'normal'"
        [hl]="'es'"
        [theme]="'light'"
      ></ngx-recaptcha2>

      <small
        class="text-red-500 text-xs block mt-2"
        *ngIf="
          contactForm.get('recaptcha')?.invalid &&
          contactForm.get('recaptcha')?.touched
        "
      >
        Por favor, completa la verificación reCAPTCHA.
      </small>
    </div>
  </div>
</form>
